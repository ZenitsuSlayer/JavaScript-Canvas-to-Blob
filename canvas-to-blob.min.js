(function(a){"use strict";var b=window.MozBlobBuilder||window.WebKitBlobBuilder||window.BlobBuilder,c=function(a,d,e){return e=e||{},a.toBlob?(a.toBlob(d,e.type),!0):a.mozGetAsFile?(d(a.mozGetAsFile(e.name||"blob.png",e.type)),!0):a.toDataURL&&b&&window.atob&&window.ArrayBuffer&&window.Uint8Array?(d(c.dataURItoBlob(a.toDataURL(e.type))),!0):!1};c.dataURItoBlob=function(a){var c,d,e,f,g,h;a.split(",")[0].indexOf("base64")>=0?c=atob(a.split(",")[1]):c=decodeURIComponent(a.split(",")[1]),d=new ArrayBuffer(c.length),e=new Uint8Array(d);for(f=0;f<c.length;f+=1)e[f]=c.charCodeAt(f);return g=new b,g.append(d),h=a.split(",")[0].split(":")[1].split(";")[0],g.getBlob(h)},typeof define!="undefined"&&define.amd?define(function(){return c}):a.canvasToBlob=c})(this);